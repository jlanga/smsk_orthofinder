# Travis configuration file
---
dist: xenial

language: bash

addons:
    apt_packages:
        - build-essential
        - git
        - curl
        - autotools-dev
        - autoconf
        - autoconf-archive
        - automake
        - cmake
        - libboost-all-dev
        - libtool
        - liblapack-dev
        - libatlas-cpp-0.6-dev
        - libnlopt-dev
        - libnlopt0
        - libarmadillo-dev
        - libopenmpi-dev
        - libopenblas-dev
        - openmpi-bin
        - wget
        - tzdata
        - xvfb

cache:
    timeout: 1000
    directories:
        - "$HOME/miniconda3_$TRAVIS_OS_NAME"
        - "$TRAVIS_BUILD_DIR/.snakemake/conda"  # snakemake envs

before_install: |
    bash .travis/before_install.sh

install: |
    bash .travis/install.sh

script: |
    bash .travis/script.sh

before_cache: |
    bash .travis/before_cache.sh

# after_failure:
    # bash .travis/after_failure.sh
